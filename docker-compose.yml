# @url https://docs.docker.com/compose/yml/
# @cli docker run --privileged --rm -it mgcrea/unifi /bin/bash
# @cli docker-compose run unifi_controller /bin/bash

version: '2'
services:
  unifi_controller:
    image: mgcrea/unifi:5
    container_name: unifi_controller
    environment:
      - TZ=Europe/Paris
    network_mode: "bridge"
    privileged: true # @TODO SYS_ADMIN, DAC_READ_SEARCH, NET_BIND_SERVICE, SYS_PTRACE, SETUID, and SETGID
    volumes:
      - ./data/lib:/var/lib/unifi
      - ./data/log:/var/log/unifi
      - ./data/work:/usr/lib/unifi/work
    ports:
      - "8880:8880/tcp"
      - "8443:8443/tcp"
      - "8080:8080/tcp"
      - "8843:8843/tcp"
      - "3478:3478/udp"
    restart: always
